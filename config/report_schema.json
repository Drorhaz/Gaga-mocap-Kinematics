{
  "version": "2.0",
  "generated": "2026-01-23T20:40:18.189927",
  "sections": {
    "S0": "Data Lineage & Provenance",
    "S1": "R\u00e1cz Calibration Layer",
    "S2": "Temporal Quality & Sampling",
    "S3": "Gap & Interpolation Transparency",
    "S4": "Winter's Residual Validation",
    "S5": "Reference Detection & Stability",
    "S6": "Biomechanics & Outlier Analysis",
    "S7": "Signal-to-Noise Quantification",
    "S8": "Decision Matrix"
  },
  "steps": {
    "step_01": {
      "file_suffix": "__step01_loader_report.json",
      "description": "Raw data loader report - initial parsing results",
      "parameters": {
        "identity.run_id": {
          "type": "str",
          "section": "S0",
          "description": "Unique recording identifier"
        },
        "identity.processing_timestamp": {
          "type": "str",
          "section": "S0",
          "description": "When pipeline ran"
        },
        "identity.pipeline_version": {
          "type": "str",
          "section": "S0",
          "description": "Pipeline version string"
        },
        "identity.csv_source": {
          "type": "str",
          "section": "S0",
          "description": "Path to raw CSV file"
        },
        "raw_data_quality.total_frames": {
          "type": "int",
          "section": "S2",
          "description": "Total frames in recording"
        },
        "raw_data_quality.missing_data_percent": {
          "type": "str",
          "section": "S3",
          "description": "Percentage of missing data"
        },
        "raw_data_quality.sampling_rate_actual": {
          "type": "float",
          "section": "S2",
          "description": "Actual sampling rate (Hz)"
        },
        "raw_data_quality.optitrack_mean_error_mm": {
          "type": "float",
          "section": "S1",
          "description": "OptiTrack calibration error (mm) - R\u00e1cz Layer | Threshold: GOLD<0.5mm, SILVER 0.5-1mm, BRONZE>1mm"
        },
        "raw_data_quality.optitrack_version": {
          "type": "str",
          "section": "S0",
          "description": "OptiTrack software version"
        },
        "calibration.pointer_tip_rms_error_mm": {
          "type": "float",
          "section": "S1",
          "description": "Pointer tip RMS error (mm) - Anatomical landmark precision | Threshold: <1mm preferred"
        },
        "calibration.wand_error_mm": {
          "type": "float",
          "section": "S1",
          "description": "Wand calibration error (mm) - Volume calibration quality | Threshold: <0.5mm preferred"
        },
        "calibration.export_date": {
          "type": "str",
          "section": "S0",
          "description": "Data export date"
        },
        "skeleton_info.segments_found_count": {
          "type": "int",
          "section": "S1",
          "description": "Number of skeleton segments found"
        },
        "skeleton_info.segments_missing_count": {
          "type": "int",
          "section": "S1",
          "description": "Number of missing segments"
        },
        "duration_sec": {
          "type": "float",
          "section": "S2",
          "description": "Recording duration in seconds"
        }
      }
    },
    "step_02": {
      "file_suffix": "__preprocess_summary.json",
      "description": "Preprocessing summary - gap filling and bone stability",
      "parameters": {
        "run_id": {
          "type": "str",
          "section": "S0",
          "description": "Recording identifier"
        },
        "raw_missing_percent": {
          "type": "float",
          "section": "S3",
          "description": "Raw missing data percentage"
        },
        "post_missing_percent": {
          "type": "float",
          "section": "S3",
          "description": "Missing data after interpolation"
        },
        "max_interpolation_gap": {
          "type": "int",
          "section": "S3",
          "description": "Maximum gap frames allowed for interpolation"
        },
        "bone_qc_mean_cv": {
          "type": "float",
          "section": "S1",
          "description": "Mean coefficient of variation for bone lengths - Formula: $CV = \\frac{\\sigma}{\\mu} \\times 100\\%$ | Threshold: GOLD<0.5%, SILVER 0.5-1%, BRONZE 1-2%, FAIL>2% | Code: src/preprocessing.py -> compute_bone_qc()"
        },
        "bone_qc_status": {
          "type": "str",
          "section": "S1",
          "description": "Bone QC status (GOLD/SILVER/BRONZE/FAIL)"
        },
        "bone_qc_alerts": {
          "type": "list",
          "section": "S1",
          "description": "List of bones with alerts"
        },
        "worst_bone": {
          "type": "str",
          "section": "S1",
          "description": "Bone with highest CV"
        },
        "interpolation_method": {
          "type": "str",
          "section": "S3",
          "description": "Global interpolation method used"
        }
      }
    },
    "step_04": {
      "file_suffix": "__filtering_summary.json",
      "description": "Filtering summary - Winter residual analysis",
      "parameters": {
        "run_id": {
          "type": "str",
          "section": "S0",
          "description": "Recording identifier"
        },
        "identity.timestamp": {
          "type": "str",
          "section": "S0",
          "description": "Filtering timestamp"
        },
        "identity.pipeline_version": {
          "type": "str",
          "section": "S0",
          "description": "Pipeline version"
        },
        "subject_metadata.mass_kg": {
          "type": "float",
          "section": "S0",
          "description": "Subject mass (kg)"
        },
        "subject_metadata.height_cm": {
          "type": "float",
          "section": "S0",
          "description": "Subject height (cm)"
        },
        "raw_quality.total_frames": {
          "type": "int",
          "section": "S2",
          "description": "Total frames"
        },
        "raw_quality.sampling_rate_actual": {
          "type": "float",
          "section": "S2",
          "description": "Sampling rate (Hz)"
        },
        "filter_params.filter_type": {
          "type": "str",
          "section": "S4",
          "description": "Filter type description"
        },
        "filter_params.filter_method": {
          "type": "str",
          "section": "S4",
          "description": "Filter method name"
        },
        "filter_params.filter_cutoff_hz": {
          "type": "float",
          "section": "S4",
          "description": "Filter cutoff frequency (Hz) - Winter residual method: $f_c = \\arg\\min_{f} \\left\\{ RMS(f) \\leq 1.05 \\cdot RMS(f_{max}) \\right\\}$ | Range: [1-16] Hz | Code: src/filtering.py -> winter_residual_analysis()"
        },
        "filter_params.filter_range_hz": {
          "type": "list",
          "section": "S4",
          "description": "Filter search range [min, max] Hz"
        },
        "filter_params.filter_order": {
          "type": "int",
          "section": "S4",
          "description": "Butterworth filter order (effective order = $2N$ for zero-lag filtfilt)"
        },
        "filter_params.winter_analysis_failed": {
          "type": "bool",
          "section": "S4",
          "description": "Whether Winter residual analysis failed to find optimal cutoff"
        },
        "filter_params.winter_failure_reason": {
          "type": "str",
          "section": "S4",
          "description": "Reason for Winter analysis failure (if any)"
        },
        "filter_params.decision_reason": {
          "type": "str",
          "section": "S4",
          "description": "Decision rationale for filter cutoff selection"
        },
        "filter_params.residual_rms_mm": {
          "type": "float",
          "section": "S4",
          "description": "Residual RMS at selected cutoff - Formula: $RMS = \\sqrt{\\frac{\\sum_{i=1}^{n}(x_{raw,i}-x_{filtered,i})^2}{n}}$ (mm) | Threshold: GOLD<15mm, SILVER 15-30mm, REVIEW>30mm | Code: src/filtering.py -> apply_winter_filter()"
        },
        "filter_params.residual_slope": {
          "type": "float",
          "section": "S4",
          "description": "Slope of residual curve at knee-point (indicates filter convergence quality)"
        },
        "filter_params.biomechanical_guardrails.enabled": {
          "type": "bool",
          "section": "S4",
          "description": "Guardrails enabled"
        }
      }
    },
    "step_05": {
      "file_suffix": "__reference_summary.json",
      "description": "Reference detection - static pose alignment",
      "parameters": {
        "run_id": {
          "type": "str",
          "section": "S0",
          "description": "Recording identifier"
        },
        "subject_context.height_cm": {
          "type": "float",
          "section": "S0",
          "description": "Subject height (cm) - Formula: $h = \\sqrt{(x_{head}-x_{foot})^2 + (y_{head}-y_{foot})^2 + (z_{head}-z_{foot})^2}$ | Sanity check: $0 < h \\leq 250$ cm | Code: src/reference.py -> detect_static_reference()"
        },
        "subject_context.scaling_factor": {
          "type": "float",
          "section": "S0",
          "description": "Scaling factor applied"
        },
        "subject_context.height_status": {
          "type": "str",
          "section": "S0",
          "description": "Height validation status (PASS/REVIEW/FAIL)"
        },
        "static_offset_audit.Left.measured_angle_deg": {
          "type": "float",
          "section": "S1",
          "description": "Left shoulder offset (deg)"
        },
        "static_offset_audit.Right.measured_angle_deg": {
          "type": "float",
          "section": "S1",
          "description": "Right shoulder offset (deg)"
        },
        "window_metadata.start_time_sec": {
          "type": "float",
          "section": "S5",
          "description": "Reference window start (sec)"
        },
        "window_metadata.end_time_sec": {
          "type": "float",
          "section": "S5",
          "description": "Reference window end (sec)"
        },
        "window_metadata.variance_score": {
          "type": "float",
          "section": "S5",
          "description": "Window stability score"
        },
        "window_metadata.ref_quality_score": {
          "type": "float",
          "section": "S5",
          "description": "Reference quality score"
        },
        "window_metadata.confidence_level": {
          "type": "str",
          "section": "S5",
          "description": "Confidence level (HIGH/MEDIUM/LOW)"
        },
        "window_metadata.detection_method": {
          "type": "str",
          "section": "S5",
          "description": "Detection method used"
        },
        "metadata.grade": {
          "type": "str",
          "section": "S5",
          "description": "Reference grade"
        },
        "metadata.status": {
          "type": "str",
          "section": "S5",
          "description": "Reference status (LOCKED/PROVISIONAL)"
        }
      }
    },
    "step_06": {
      "file_suffix": "__kinematics_summary.json",
      "description": "Kinematics summary - angular velocities and outliers",
      "parameters": {
        "run_id": {
          "type": "str",
          "section": "S0",
          "description": "Recording identifier"
        },
        "overall_status": {
          "type": "str",
          "section": "S8",
          "description": "Pipeline processing status (e.g., COMPLETED_STEP_06) - indicates which notebook last ran successfully"
        },
        "metrics.angular_velocity.max": {
          "type": "float",
          "section": "S6",
          "description": "Max angular velocity (deg/s) - Formula: $\\omega_{max} = \\max_t \\|\\frac{d\\theta}{dt}\\|$ | Physiological limit: 1500 deg/s (Gaga: up to 2250 deg/s) | Code: src/angular_velocity.py"
        },
        "metrics.angular_velocity.limit": {
          "type": "float",
          "section": "S6",
          "description": "Angular velocity physiological limit (1500 deg/s baseline)"
        },
        "metrics.angular_accel.max": {
          "type": "float",
          "section": "S6",
          "description": "Max angular acceleration (deg/s\u00b2) - Formula: $\\alpha_{max} = \\max_t \\|\\frac{d\\omega}{dt}\\|$ | Threshold: ACCEPTABLE<30k, HIGH 30-50k, EXTREME>50k | Code: src/angular_velocity.py"
        },
        "metrics.linear_accel.max": {
          "type": "float",
          "section": "S6",
          "description": "Max linear acceleration (mm/s\u00b2) - Injury risk indicator | Threshold: SAFE<50, ELEVATED 50-100, SEVERE>100 m/s\u00b2"
        },
        "signal_quality.avg_residual_rms": {
          "type": "float",
          "section": "S7",
          "description": "Average residual RMS - Formula: $\\overline{RMS} = \\frac{1}{N}\\sum_{j=1}^{N} \\sqrt{\\frac{\\sum_{i=1}^{n}(x_{j,raw,i}-x_{j,filt,i})^2}{n}}$ (mm) | Policy: GOLD<15mm, SILVER 15-30mm, REVIEW>30mm (\"Price of Smoothing\") | Code: src/filtering.py -> apply_winter_filter()"
        },
        "signal_quality.max_quat_norm_err": {
          "type": "float",
          "section": "S2",
          "description": "Max quaternion normalization error - Formula: $\\epsilon_{max} = \\max_i |\\|q_i\\| - 1|$ | Threshold: <0.01 (ISB compliance) | Code: src/quaternion_normalization.py"
        },
        "movement_metrics.path_length_mm": {
          "type": "float",
          "section": "S6",
          "description": "Total path length (mm) - Cumulative 3D Euclidean distance"
        },
        "movement_metrics.intensity_index": {
          "type": "float",
          "section": "S6",
          "description": "Movement intensity index (normalized) - Formula: $I_{norm} = \\frac{I}{m}$ where $I$ = total path intensity (mm\u00b7deg/s), $m$ = subject mass (kg) | Code: src/angular_velocity.py -> compute_angular_velocity()"
        },
        "outlier_analysis.counts.total_outliers": {
          "type": "int",
          "section": "S6",
          "description": "Total outlier frames (Limit: >5% triggers REVIEW)"
        },
        "outlier_analysis.percentages.total_outliers": {
          "type": "float",
          "section": "S6",
          "description": "Outlier percentage - Policy: >5% frames = REVIEW"
        },
        "outlier_analysis.consecutive_runs.max_consecutive_any_outlier": {
          "type": "int",
          "section": "S6",
          "description": "Max consecutive outliers (Limit: 8) - Classification: 1-3=Artifact, 4-7=Burst, 8+=Flow"
        },
        "pipeline_params.sg_window_sec": {
          "type": "float",
          "section": "S6",
          "description": "Savitzky-Golay window (sec)"
        },
        "pipeline_params.fs_target": {
          "type": "float",
          "section": "S2",
          "description": "Target sampling rate"
        }
      }
    }
  }
}